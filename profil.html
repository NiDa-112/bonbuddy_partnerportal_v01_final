

<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Profil – BonBuddy</title>
  <link rel="icon" href="favicon.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Jost', sans-serif;
      display: flex;
    }
    nav ul li a {
      position: relative;
    }
    nav ul li a:hover::after {
      content: '';
      position: absolute;
      bottom: -6px;
      left: 0;
      width: 100%;
      height: 6px;
      background-color: rgba(255, 255, 255, 0.3);
      border-radius: 6px;
    }
    
    main {
      margin-left: 260px;
      padding: 40px;
      flex-grow: 1;
    }
    h1 {
      margin-top: 0;
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1500;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.5);
    }
    .modal-content {
      background-color: #fff;
      margin: 10% auto;
      padding: 30px;
      border-radius: 10px;
      width: 90%;
      max-width: 500px;
      position: relative;
    }
    .close {
      color: #aaa;
      position: absolute;
      right: 20px;
      top: 10px;
      font-size: 28px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <nav style="width: 260px; background-color: #519e8a; color: white; padding: 30px; box-sizing: border-box; display: flex; flex-direction: column; justify-content: space-between; position: fixed; top: 0; left: 0; height: 100vh; z-index: 1000;">
        <div>
          <img src="icons_logos/BonBuddy_Partner.png" alt="BonBuddy Partnerportal" style="max-width: 200px; height: auto; margin-bottom: 30px; background: none; display: block;" />
          <ul style="list-style: none; padding-left: 0;">
            <li style="margin-bottom: 24px;">
              <a href="dashboard.html" style="color: white; text-decoration: none;">Dashboard</a>
            </li>
            <li style="margin-bottom: 24px;">
              <a href="produkte.html" style="color: white; text-decoration: none;">Produkte</a>
            </li>
            <li style="margin-bottom: 24px;">
              <a href="#" style="color: white; text-decoration: none;">Statistiken</a>
            </li>
            <li style="margin-bottom: 24px;">
              <a href="profil.html" style="color: white; text-decoration: none;">Profil</a>
            </li>
          </ul>
        </div>
        <div>
          <a href="#" id="logoutLink" style="color: white; text-decoration: none; font-size: 15px;">Logout</a>
        </div>
      </nav>

  <main>
    <h2>Hallo <span id="benutzerName">Benutzer</span>,</h2>
    <h1>Profil</h1>
    <p>Hier kannst du deine Kontoinformationen verwalten.</p>
    <div style="display: flex; flex-direction: column; gap: 30px; margin-top: 40px;">
      <div onclick="openModal('modalZugang')" style="cursor: pointer; background: #f4f4f4; padding: 20px; border-radius: 10px;">
        <h2>Zugangsprofil bearbeiten</h2>
        <p>Klicke hier, um deine Zugangsdaten zu bearbeiten.</p>
      </div>
      <div onclick="openModal('modalLokal')" style="cursor: pointer; background: #f4f4f4; padding: 20px; border-radius: 10px;">
        <h2>Ladenlokal bearbeiten</h2>
        <p>Adresse und Ladenkategorie verwalten.</p>
      </div>
      <div onclick="openModal('modalAbo')" style="cursor: pointer; background: #f4f4f4; padding: 20px; border-radius: 10px;">
        <h2>Abonnement verwalten</h2>
        <p>Dein aktuelles Abo ändern.</p>
      </div>
    </div>
  </main>
</main>

<!-- MODAL ZUGANG -->
<div id="modalZugang" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('modalZugang')">&times;</span>
    <h2>Zugangsprofil bearbeiten</h2>
    <label for="name">Name:</label><br>
    <input type="text" id="name" style="width: 100%; padding: 8px; margin-bottom: 15px;"><br>
    <label for="email">E-Mail:</label><br>
    <input type="email" id="email" style="width: 100%; padding: 8px; margin-bottom: 30px;"><br>
    <button style="padding: 10px 20px; background-color: #519e8a; color: white; border: none; border-radius: 5px;">Speichern</button>
  </div>
</div>

<!-- MODAL LOKAL -->
<div id="modalLokal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('modalLokal')">&times;</span>
    <h2>Ladenlokal bearbeiten</h2>
    <label for="adresse">Adresse:</label><br>
    <input type="text" id="adresse" style="width: 100%; padding: 8px; margin-bottom: 15px;"><br>
    <label for="kategorie">Ladenkategorie:</label><br>
    <select id="kategorie" style="width: 100%; padding: 8px; margin-bottom: 30px;">
      <option value="lebensmittel">Lebensmittel</option>
      <option value="getränke">Getränke</option>
      <option value="drogerie">Drogerie</option>
      <option value="andere">Andere</option>
    </select>
    <button style="padding: 10px 20px; background-color: #519e8a; color: white; border: none; border-radius: 5px;">Speichern</button>
  </div>
</div>

<!-- MODAL ABO -->
<div id="modalAbo" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('modalAbo')">&times;</span>
    <h2>Abonnement verwalten</h2>
    <label for="abo">Aktuelles Abonnement:</label><br>
    <select id="abo" style="width: 100%; padding: 8px; margin-bottom: 30px;">
      <option value="basic">Basic</option>
      <option value="pro">Pro</option>
      <option value="enterprise">Enterprise</option>
    </select>
    <button style="padding: 10px 20px; background-color: #519e8a; color: white; border: none; border-radius: 5px;">Speichern</button>
  </div>
</div>

</body>
<script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm'

  const supabaseUrl = 'https://hqxesetgdjmzhktlmayv.supabase.co'
  const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhxeGVzZXRnZGptemhrdGxtYXl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTg4MTI4NTcsImV4cCI6MjAxNDM4ODg1N30.Z5rQkQ4d4CK6uVd8JY4QK4k7jP5JzOq5yJ8q3z6qK2Q'
  const supabase = createClient(supabaseUrl, supabaseKey)

  const {
    data: { user },
  } = await supabase.auth.getUser()

  if (user) {
    document.getElementById('benutzerName').textContent = user.user_metadata?.name || 'Benutzer'
  }
</script>
<script>
  function openModal(id) {
    document.getElementById(id).style.display = "block";
  }
  function closeModal(id) {
    document.getElementById(id).style.display = "none";
  }
</script>
</html>